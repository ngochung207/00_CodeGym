<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nhập xuất mảng</title>
</head>
<body>

<table>
    <tr>
        <td colspan="3"><b>Nhập Dữ Liệu</b></td>
    </tr>
    <tr>
        <td><input type="text" id="id-input" style="text-align: right"></td>
        <td><input type="button" value="Add Value" onclick="inputArray(myArray); showArray();"</td>
        <td><input type="button" value="Find vale" onclick="findValue(myArray, document.getElementById('id-input').value);showFindArray();"></td>
        <td><input type="button" value="Max value" onclick="showMaxValue(myArray);"></td>
        <td><input type="button" value="Min value" onclick="showMinValue(myArray);"></td>
    </tr>
    <tr>
        <td>Giá trị của mảng: </td>
        <td colspan="2" id="id-result-add"></td>
    </tr>
    <tr>
        <td>Vị trí giá trị tìm kiếm:</td>
        <td colspan="2" id="id-result-find"></td>
    </tr>
    <tr>
        <td>Giá trị dương nhỏ nhất:</td>
        <td colspan="2" id="id-result-max"></td>
    </tr>
    <tr>
        <td>Giá trị âm lớn nhất:</td>
        <td colspan="2" id="id-result-min"></td>
    </tr>

</table>
<script>

    let myArray = new Array(); // Khởi tạo mảng chứa giá trị nhập vào.
    let findArrayResult = new Array(); // Khởi tạo mảng chứa vị trí giá trị tìm kiếm.

    // Hàm thêm value giá trị vào mảng array.
    function addItemInArray(array, value){
        let size = array.length;
        array[size] =  value;
    }

    // Kiểm tra giá trị tại ô input nếu hợp lệ cho phép thêm vào mảng.
    function inputArray(myArray) {
       let value = document.getElementById('id-input').value;
       if (!isNaN(value) && value !== '') {
           addItemInArray(myArray,value);
           document.getElementById('id-input').value = '';
       } else {
           alert("Bạn phải nhập vào số và không được để trống")
       }
        return myArray;
    }

    // Show giá trị nhập vào.
    function showArray(){
        // document.getElementById('id-result').value = myArray;
        document.getElementById('id-result-add').innerHTML = myArray;
    }

    // Tìm kiếm giá trị trong một mảng. Giá trị trả về là một mảng chứa Index của value trong mảng.
    function findValue(array, number){
        let size = array.length;

        for(let i=0; i < size; i++){
            if (array[i] === number){
                addItemInArray(findArrayResult,i);
            }
        }
        return findArrayResult;
    }

    function showMaxValue(myArray){
        document.getElementById('id-result-max').innerHTML = minArray(positiveNumbers(myArray));
    }

    function showMinValue(myArray){
        return document.getElementById('id-result-min').innerHTML = maxArray(negativeNumbers(myArray));
    }

    //Show index giá trị tìm kiếm.
    function showFindArray(){
        if (findArrayResult.length !== 0) {
            document.getElementById('id-result-find').innerHTML = findArrayResult;
            findArrayResult = [];
        } else {
            document.getElementById('id-result-find').innerHTML = 'Not find value';
        }
    }

    // Xóa toàn bộ giá trị value trong mảng.
    function delValueInArray(arr, value){
        let newArr = [];
        arr.forEach(function (element){
            if (element !== value){
                newArr.push(element);
            }
        });
        return newArr;
    }
    // Lấy ra các giá trị dương trong mảng
    function positiveNumbers(arr){
        let newArr = [];
        for (let i = 0; i < arr.length; i++) {
            if (arr[i] > 0){
                newArr.push(arr[i]);
            }
        } return newArr;
    }
    // Lấy ra các giá trị âm trong mảng
    function negativeNumbers(arr){
        let newArr = [];
        for (let i = 0; i < arr.length; i++) {
            if (arr[i] < 0){
                newArr.push(arr[i]);
            }
        } return newArr;
    }
    // Lấy ra giá trị lớn của mảng
    function maxArray(arr){
        let max = arr[0];
        for (let i = 0; i < arr.length; i++) {
            if (max < arr[i]){
                max = arr[i];
            }
        } return max;
    }
    // Lấy giá trị nhỏ nhất của mảng
    function minArray(arr){
        let min = arr[0];
        for (let i = 0; i < arr.length; i++) {
            if (min > arr[i]){
                min = arr[i];
            }
        } return min;
    }
</script>
</body>
</html>